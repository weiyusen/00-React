{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react'; // 处理用户权限的api\n\nexport const authApi = createApi({\n  reducerPath: 'authApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'http://localhost:1337/api/'\n  }),\n\n  endpoints(build) {\n    //build是请求构建器\n    return {\n      // 添加一个注册的方法\n      // 如果是修改(删除\\添加)就是 build.mutation()\n      register: build.mutation({\n        query(user) {\n          return {\n            url: 'auth/local/register',\n            method: 'post',\n            body: user //username password email\n\n          };\n        }\n\n      }),\n      login: build.mutation({\n        query(user) {\n          return {\n            url: 'auth/local',\n            method: 'post',\n            body: user //identifi password\n\n          };\n        }\n\n      })\n    };\n  }\n\n}); // 钩子暴露出去之后，就可以通过这个钩子去发请求了\n\nexport const {\n  useRegisterMutation\n} = authApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","authApi","reducerPath","baseQuery","baseUrl","endpoints","build","register","mutation","query","user","url","method","body","login","useRegisterMutation"],"sources":["D:/前端学习/00-react/00-React/05_React-Router/08_auth-demo/src/store/api/authApi.js"],"sourcesContent":["import {createApi, fetchBaseQuery} from '@reduxjs/toolkit/dist/query/react'\r\n// 处理用户权限的api\r\nexport const authApi = createApi({\r\n    reducerPath:'authApi',\r\n    baseQuery:fetchBaseQuery({\r\n        baseUrl:'http://localhost:1337/api/'\r\n    }),\r\n    endpoints(build){ //build是请求构建器\r\n        return {\r\n            // 添加一个注册的方法\r\n            // 如果是修改(删除\\添加)就是 build.mutation()\r\n            register: build.mutation({\r\n                query(user){\r\n                    return {\r\n                        url: 'auth/local/register',\r\n                        method:'post',  \r\n                        body:user //username password email\r\n                    }\r\n                }\r\n            }),\r\n            login: build.mutation({\r\n                query(user){\r\n                    return {\r\n                        url: 'auth/local',\r\n                        method:'post',  \r\n                        body:user //identifi password\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n})\r\n// 钩子暴露出去之后，就可以通过这个钩子去发请求了\r\nexport const {useRegisterMutation} = authApi"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,cAAnB,QAAwC,mCAAxC,C,CACA;;AACA,OAAO,MAAMC,OAAO,GAAGF,SAAS,CAAC;EAC7BG,WAAW,EAAC,SADiB;EAE7BC,SAAS,EAACH,cAAc,CAAC;IACrBI,OAAO,EAAC;EADa,CAAD,CAFK;;EAK7BC,SAAS,CAACC,KAAD,EAAO;IAAE;IACd,OAAO;MACH;MACA;MACAC,QAAQ,EAAED,KAAK,CAACE,QAAN,CAAe;QACrBC,KAAK,CAACC,IAAD,EAAM;UACP,OAAO;YACHC,GAAG,EAAE,qBADF;YAEHC,MAAM,EAAC,MAFJ;YAGHC,IAAI,EAACH,IAHF,CAGO;;UAHP,CAAP;QAKH;;MAPoB,CAAf,CAHP;MAYHI,KAAK,EAAER,KAAK,CAACE,QAAN,CAAe;QAClBC,KAAK,CAACC,IAAD,EAAM;UACP,OAAO;YACHC,GAAG,EAAE,YADF;YAEHC,MAAM,EAAC,MAFJ;YAGHC,IAAI,EAACH,IAHF,CAGO;;UAHP,CAAP;QAKH;;MAPiB,CAAf;IAZJ,CAAP;EAsBH;;AA5B4B,CAAD,CAAzB,C,CA8BP;;AACA,OAAO,MAAM;EAACK;AAAD,IAAwBd,OAA9B"},"metadata":{},"sourceType":"module"}