{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nconst studentApi = createApi({\n  reducerPath: 'studentApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"http://localhost:1337/api/\"\n  }),\n  endpoints(build) {\n    return {\n      getStudents: build.query({\n        query() {\n          return 'students';\n        },\n        // 用来转换响应数据\n        transformResponse(baseQueryReturnValue) {\n          return baseQueryReturnValue.data;\n        }\n      }),\n      getStudentById: build.query({\n        query(id) {\n          return `students/${id}`;\n        },\n        transformResponse(baseQueryReturnValue) {\n          return baseQueryReturnValue.data;\n        },\n        // 配置缓存时间\n        keepUnusedDataFor: 0\n      })\n    };\n  }\n});\nexport const {\n  useGetStudentsQuery,\n  useGetStudentByIdQuery\n} = studentApi;\nexport default studentApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","studentApi","reducerPath","baseQuery","baseUrl","endpoints","build","getStudents","query","transformResponse","baseQueryReturnValue","data","getStudentById","id","keepUnusedDataFor","useGetStudentsQuery","useGetStudentByIdQuery"],"sources":["D:/前端学习/00-react/00-React/04_react_app/src/store/studentApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\r\n\r\nconst studentApi = createApi({\r\n    reducerPath: 'studentApi',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: \"http://localhost:1337/api/\"\r\n    }),\r\n    endpoints(build) {\r\n        return {\r\n            getStudents: build.query({\r\n                query() {\r\n                    return 'students'\r\n                },\r\n                // 用来转换响应数据\r\n                transformResponse(baseQueryReturnValue) {\r\n                    return baseQueryReturnValue.data\r\n                }\r\n            }),\r\n            getStudentById: build.query({\r\n                query(id) {\r\n                    return `students/${id}`\r\n                },\r\n                transformResponse(baseQueryReturnValue) {\r\n                    return baseQueryReturnValue.data\r\n                },\r\n                // 配置缓存时间\r\n                keepUnusedDataFor:0\r\n            })\r\n        }\r\n    }\r\n})\r\n\r\nexport const { useGetStudentsQuery, useGetStudentByIdQuery } = studentApi\r\nexport default studentApi"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,mCAAmC;AAE7E,MAAMC,UAAU,GAAGF,SAAS,CAAC;EACzBG,WAAW,EAAE,YAAY;EACzBC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAE;EACb,CAAC,CAAC;EACFC,SAAS,CAACC,KAAK,EAAE;IACb,OAAO;MACHC,WAAW,EAAED,KAAK,CAACE,KAAK,CAAC;QACrBA,KAAK,GAAG;UACJ,OAAO,UAAU;QACrB,CAAC;QACD;QACAC,iBAAiB,CAACC,oBAAoB,EAAE;UACpC,OAAOA,oBAAoB,CAACC,IAAI;QACpC;MACJ,CAAC,CAAC;MACFC,cAAc,EAAEN,KAAK,CAACE,KAAK,CAAC;QACxBA,KAAK,CAACK,EAAE,EAAE;UACN,OAAQ,YAAWA,EAAG,EAAC;QAC3B,CAAC;QACDJ,iBAAiB,CAACC,oBAAoB,EAAE;UACpC,OAAOA,oBAAoB,CAACC,IAAI;QACpC,CAAC;QACD;QACAG,iBAAiB,EAAC;MACtB,CAAC;IACL,CAAC;EACL;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEC,mBAAmB;EAAEC;AAAuB,CAAC,GAAGf,UAAU;AACzE,eAAeA,UAAU"},"metadata":{},"sourceType":"module"}